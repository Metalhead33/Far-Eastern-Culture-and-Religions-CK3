#jew_free_realm = {
#	OR = {
#	AND = {
#	is_independent_ruler = yes
#	has_character_modifier = expelled_the_jews
#	}
#	top_liege = { has_character_modifier = expelled_the_jews }
#	}
#}
portrait_chinese_clothing_trigger = {
	OR = {
		scope:culture = {
			has_clothing_gfx = chinese_clothing_gfx
			NOT = { has_cultural_tradition = tradition_diasporic }
		}
		AND = {
			is_ruler = no
			scope:culture = { has_cultural_tradition = tradition_diasporic }
			location.culture = { has_clothing_gfx = chinese_clothing_gfx }
		}
	}
}
portrait_chinese_wear_armor_trigger = {		
	OR = {
		AND = {
			is_ruler = yes
			has_government = mercenary_government
		}
		is_commanding_army = yes
		AND = {
			is_knight = yes
			is_councillor = no
			OR = {
				is_landed = no
				liege = {
					is_at_war = yes
				}
			}
		}
		AND = {
			has_council_position = councillor_marshal
			OR = {
				is_landed = no
				primary_title.tier < tier_empire
			}
		}				
	}
}

portrait_chinese_wear_helmet_trigger = { 
	OR = {
		AND = {
			is_ruler = yes
			has_government = mercenary_government
		}
		AND = {
			is_ruler = yes
			has_government = holy_order_government
		}
		has_trait = order_member
		is_commanding_army = yes
		AND = {
			is_knight = yes
			is_councillor = no
			OR = {
				is_landed = no
				AND = {
					exists = primary_title
					primary_title.tier < tier_empire
					liege = {
						is_at_war = yes
					}
				}
			}
		}
		AND = {
			has_council_position = councillor_marshal
			OR = {
				is_landed = no
				primary_title.tier < tier_empire
			}
		}				
	}
}
jew_free_realm = {
    trigger_if = {
        limit = { is_independent_ruler = yes }
        has_character_modifier = expelled_the_jews
    }
    trigger_else = {
        top_liege = { has_character_modifier = expelled_the_jews }
    }
}
gypsy_free_realm = {
    trigger_if = {
        limit = { is_independent_ruler = yes }
        has_character_modifier = expelled_the_gypsies
    }
    trigger_else = {
        top_liege = { has_character_modifier = expelled_the_gypsies }
    }
}
has_ashkenazim = {
	capital_province = {
		OR = {
		AND = {	geographical_region = world_europe_west
		NOT = { geographical_region = world_europe_west_iberia } }
		geographical_region = world_europe_north
		geographical_region = world_europe_east
		}
	}
}
has_sephardim = {
	capital_province = {
		OR = {
			geographical_region = world_europe_west_iberia
			geographical_region = world_europe_south
			geographical_region = world_asia_minor
		}
	}
}
has_kaifeng = {
	capital_province = {
		geographical_region = ghw_region_khotan
	}
}
has_mizrahim = {
	capital_province = {
		OR = {
		geographical_region = world_middle_east
		geographical_region = world_africa_north
		}
	}
}
has_radhanites = {
	capital_province = {
		OR = {
			AND = {	geographical_region = world_steppe
			NOT = { geographical_region = ghw_region_khotan } }
			geographical_region = world_middle_east_persia
		}
	}
}
has_kochinim = {
	capital_province = {
		geographical_region = world_india
	}
}
has_jews = {
	any_sub_realm_county = {
		OR = {
			has_county_modifier = jewish_community_very_small
			has_county_modifier = jewish_community_small
			has_county_modifier = jewish_community_large
			has_county_modifier = jewish_community_very_large
		}
	}
}
has_gypsies = {
	any_sub_realm_county = {
		OR = {
			has_county_modifier = integrated_gypsy_community_very_small
			has_county_modifier = integrated_gypsy_community_small
			has_county_modifier = integrated_gypsy_community_large
			has_county_modifier = integrated_gypsy_community_very_large
		}
	}
}
has_jewish_enemies = {
	any_relation = {
		type = rival
		count = all
		trigger_if = {
			limit = {
				has_religion = religion:judaism_religion
			}
		}
	}
	any_relation = { # Same with nemeses
		type = nemesis
		count = all
		trigger_if = {
			limit = {
				has_religion = religion:judaism_religion
			}
		}
	}
}
has_jewish_friends = {
	any_relation = {
		type = friend
		count = all
		trigger_if = {
			limit = {
				has_religion = religion:judaism_religion
			}
		}
	}
	any_relation = {
		type = lover
		count = all
		trigger_if = {
			limit = {
				has_religion = religion:judaism_religion
			}
		}
	}
}

jewish_courtier_basic_requirements_trigger = {
	is_adult = yes
	is_imprisoned = no
	is_alive = yes # Because apparently there can be dead characters in the pool (remove when fixed)
	OR = {
	has_religion = religion:judaism_religion
	culture = { has_cultural_pillar = heritage_israelite }
	}
}

jewish_courtier_excellent_skill_intrigue_trigger = {
	jewish_courtier_basic_requirements_trigger = yes
	intrigue >= high_skill_rating
}

jewish_courtier_high_skill_intrigue_trigger = {
	jewish_courtier_basic_requirements_trigger = yes	
	OR = {
		#Empire/kingdom
		AND = {
			root = { highest_held_title_tier >= tier_kingdom }
			intrigue >= decent_skill_rating #Will be pushed up to high by adding schemer/reveler traits
			NAND = {
				has_trait = schemer
				NOT = { has_trait = lifestyle_reveler }
			}
		}
		#Duchy/county
		AND = {
			root = { highest_held_title_tier <= tier_duchy }
			NOR = {
				intrigue > high_skill_rating
				has_trait = reveler_3
				has_trait = schemer
			}
			intrigue >= mediocre_skill_rating #Will be pushed up to medium by adding schemer/reveler traits
		}
	}
}

jewish_courtier_excellent_skill_diplomacy_trigger = {
	jewish_courtier_basic_requirements_trigger = yes
	diplomacy >= high_skill_rating
}

jewish_courtier_high_skill_diplomacy_trigger = {
	jewish_courtier_basic_requirements_trigger = yes	
	OR = {
		#Empire/kingdom
		AND = {
			root = { highest_held_title_tier >= tier_kingdom }
			diplomacy >= decent_skill_rating #Will be pushed up to high by adding diplomat/reveler traits
			NAND = {
				has_trait = diplomat
				NOT = { has_trait = lifestyle_reveler }
			}
		}
		#Duchy/county
		AND = {
			root = { highest_held_title_tier <= tier_duchy }
			NOR = {
				diplomacy > high_skill_rating
				has_trait = reveler_3
				has_trait = diplomat
			}
			diplomacy >= mediocre_skill_rating #Will be pushed up to medium by adding diplomat/reveler traits
		}
	}
}

jewish_courtier_excellent_skill_stewardship_trigger = {
	jewish_courtier_basic_requirements_trigger = yes
	stewardship >= high_skill_rating
}

jewish_courtier_high_skill_stewardship_trigger = {
	jewish_courtier_basic_requirements_trigger = yes	
	OR = {
		#Empire/kingdom
		AND = {
			root = { highest_held_title_tier >= tier_kingdom }
			stewardship >= decent_skill_rating #Will be pushed up to high by adding administrator/avaricious/architect traits
			NAND = {
				has_trait = administrator
				has_trait = avaricious
				has_trait = architect
			}
		}
		#Duchy/county
		AND = {
			root = { highest_held_title_tier <= tier_duchy }
			NOR = {
				stewardship > high_skill_rating
				has_trait = avaricious
				has_trait = administrator
				has_trait = architect
			}
			stewardship >= mediocre_skill_rating #Will be pushed up to medium by adding administrator/avaricious/architect  traits
		}
	}
}

has_gypsy_enemies = {
	any_relation = {
		type = rival
		count = all
		trigger_if = {
			limit = {
				culture = { has_cultural_pillar = heritage_gypsy }
			}
		}
	}
	any_relation = { # Same with nemeses
		type = nemesis
		count = all
		trigger_if = {
			limit = {
				culture = { has_cultural_pillar = heritage_gypsy }
			}
		}
	}
}
has_gypsy_friends = {
	any_relation = {
		type = friend
		count = all
		trigger_if = {
			limit = {
				culture = { has_cultural_pillar = heritage_gypsy }
			}
		}
	}
	any_relation = {
		type = lover
		count = all
		trigger_if = {
			limit = {
				culture = { has_cultural_pillar = heritage_gypsy }
			}
		}
	}
}

gypsy_courtier_basic_requirements_trigger = {
	is_adult = yes
	is_imprisoned = no
	is_alive = yes # Because apparently there can be dead characters in the pool (remove when fixed)
	culture = { has_cultural_pillar = heritage_gypsy }
}

gypsy_courtier_excellent_skill_intrigue_trigger = {
	gypsy_courtier_basic_requirements_trigger = yes
	intrigue >= high_skill_rating
}

gypsy_courtier_high_skill_intrigue_trigger = {
	gypsy_courtier_basic_requirements_trigger = yes	
	OR = {
		#Empire/kingdom
		AND = {
			root = { highest_held_title_tier >= tier_kingdom }
			intrigue >= decent_skill_rating #Will be pushed up to high by adding schemer/reveler traits
			NAND = {
				has_trait = schemer
				NOT = { has_trait = lifestyle_reveler }
			}
		}
		#Duchy/county
		AND = {
			root = { highest_held_title_tier <= tier_duchy }
			NOR = {
				intrigue > high_skill_rating
				has_trait = reveler_3
				has_trait = schemer
			}
			intrigue >= mediocre_skill_rating #Will be pushed up to medium by adding schemer/reveler traits
		}
	}
}

has_trade_good = {
	OR = {
		has_province_modifier = trade_good_grain
		has_province_modifier = trade_good_wine
		has_province_modifier = trade_good_wool
		has_province_modifier = trade_good_cloth
		has_province_modifier = trade_good_fish
		has_province_modifier = trade_good_fur
		has_province_modifier = trade_good_salt
		has_province_modifier = trade_good_naval_supplies
		has_province_modifier = trade_good_copper
		has_province_modifier = trade_good_gold
		has_province_modifier = trade_good_iron
		has_province_modifier = trade_good_slaves
		has_province_modifier = trade_good_ivory
		has_province_modifier = trade_good_tea
		has_province_modifier = trade_good_chinaware
		has_province_modifier = trade_good_spices
		has_province_modifier = trade_good_coffee
		has_province_modifier = trade_good_cotton
		has_province_modifier = trade_good_sugar
		has_province_modifier = trade_good_tobacco
		has_province_modifier = trade_good_cocoa
		has_province_modifier = trade_good_silk
		has_province_modifier = trade_good_dyes
		has_province_modifier = trade_good_tropical_wood
		has_province_modifier = trade_good_livestock
		has_province_modifier = trade_good_incense
		has_province_modifier = trade_good_glass
		has_province_modifier = trade_good_paper
		has_province_modifier = trade_good_gems
		has_province_modifier = trade_good_cloves
		has_province_modifier = trade_good_corn
		has_province_modifier = trade_good_rice
		has_province_modifier = trade_good_pearl
		has_province_modifier = trade_good_amber
		has_province_modifier = trade_good_marble
		has_province_modifier = trade_good_cranberry
		has_province_modifier = trade_good_wood
		has_province_modifier = trade_good_jewelry
		has_province_modifier = trade_good_potato
		has_province_modifier = trade_good_cinnamon
		has_province_modifier = trade_good_pepper
		has_province_modifier = trade_good_vanilla
		has_province_modifier = trade_good_fruit
		has_province_modifier = trade_good_citrus
		has_province_modifier = trade_good_exotic_fruit
		has_province_modifier = trade_good_cheese
		has_province_modifier = trade_good_honey
		has_province_modifier = trade_good_roses
	}
}
